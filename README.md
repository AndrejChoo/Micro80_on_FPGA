# Micro80_on_FPGA
Реализация ретрокомпьютера "Микро 80" на FPGA

В качестве центрального процессора использована HDL модель КР580ВМ80А от vslav: https://github.com/1801BM1/vm80a

Видео выводится по HDMI в разрешении 1024х768 в цветном режиме и 640х480 в монохромном режиме

В качестве видеопамяти (символов и атрибутов )2х2048 байт используется двухпортовая блочная RAM FPGA, знакогенератор (4096 байт) реализован  на блочной ROM FPGA.
Видеорежим 64х32 символа 8х10 пикселей, но программно ограничено на 25 строк.

В качестве ОЗУ и ПЗУ используется SRAM память (достаточно любой микросхемы SRAM с организацией 128х8 Кбит). Прошивка монитора и CP/M хранятся в микросхеме SPI Flash 25-й серии,
при запуске данные из флешки переписываются в SRAM и далее считываются уже оттуда.

В качестве клавиатуры можно использовать PS/2 клавиатуру (у меня работает нестабильно, часто залипает, возможно, моя старая клавиатура работает не совсем корректно), либо
USB клавиатуру через переходник на "Black pill" (stm32f411ceu).

Доработанные прошивки "Монитор" и CP/M, а также шрифт 8х10 взяты из репозитория Алексея Морозова (Алексею отдельное спасибо за помощь): https://github.com/alemorf/retro_computers

В папке Micro80 файлы проекта, созданного для FPGA Altera. Для FPGA других производителей будет необходимо сгенерировать свои ip блоки pll, блочной памяти, altddio (для модуля HDMI это блоки, которые выводят биты данных на линии tmds по фронту и по спаду клока, можно обойтись и без них, но тогда придётся удвоить частоту х10 для модуля HDMI).

Для прошивки SPI Flash 25 серии, не имея программатора и не снимая флешки с платы можно использовать мой проект: https://github.com/AndrejChoo/UART_SpiFlash_Programmer_on_FPGA
